<html>

<head>
	<meta charset="utf-8">
	<style>
		pre {
			background-color: rgb(149, 243, 137);
		}
	</style>
</head>
<link rel="stylesheet" href="./practice.css" />
<link rel="stylesheet" href="1.css">

<body>
	<nav>
		<div class="countainer">
			<ul class="pages">
				<a href="aim.html" class="link link1">
					<li class="page active page1">Aim</li>
				</a>
				<a href="procedure.html" class="link link2">
					<li class="page page2">Procedure</li>
				</a>
				<a href="theory.html" class="link link3">
					<li class="page page3">Theory</li>
				</a>
				<a href="simulation.html" class="link link4">
					<li class="page page4">Simulation</li>
				</a>
				<a href="cryptanalysis.html" class="link link4">
					<li class="page page4">Cryptanalysis</li>
				</a>
			</ul>
			<!-- <p class="search">
				<input class="search-box" type="search" name="search" id="search" placeholder="Search..." />
			</p>
			<p class="logo">My Website</p> -->
		</div>
	</nav>

	<div class="container">
		<h1 style="background-color:rgb(204, 218, 19);">One-Time Pad Cipher</h1>
		<div class="btn">
			<div class="rightNav">

				<div class="navbar">
					<hr>
					<form onsubmit="runEncryptTest(); return false;">
						Message: <input type="text" id="messageTextboxEncrypt" value="add"></textarea>
						Key: <input type="text" id="keyTextboxEncrypt" value="daa"></input>
						Key Repetition: <input type="checkbox" id="keyRepetitionCheckboxEncrypt">
						<button type="submit">Run Encrypt Test</button>
					</form>
					</p>
					<hr>
					<!-- <p>
	<form onsubmit="runDecryptTest(); return false;">
		Message: <input type="text" id="ciphertextTextboxDecrypt" value="030303"></input>
		Key: <input type="text" id="keyTextboxDecrypt" value="daa"></input>
		Key Repetition: <input type="checkbox" id="keyRepetitionCheckboxDecrypt">
		<button type="submit">Run Decrypt Test</button>
	</form>
	 -->
					</p>
					<hr>
				</div>
			</div><br>
			<p>Plaintext message: 
			<pre id="plaintext">null</pre>
			</p><br>
			<p>Encoded message:
			<pre id="encoded">null</pre>
			</p><br>
			<p>Decoded message:
			<pre id="decoded">null</pre>
			</p><br>
			<p>Key:
			<pre id="key">null</pre>
			</p><br>
			<p>Encoded key:
			<pre id="encodedkey">null</pre>
			</p><br>
			<p>Encrypted message:
			<pre id="encrypted">null</pre>
			</p><br>
			<p>Decrypted message:
			<pre id="decrypted">null</pre>
			</p><br>
		</div>

		<script type="text/javascript" src="onetimepad.js"></script>

		<script type="text/javascript">

			function runEncryptTest() {
				var messageTextbox = document.getElementById("messageTextboxEncrypt").value;
				var keyTextbox = document.getElementById("keyTextboxEncrypt").value;
				var keyRepetitionCheckbox = document.getElementById("keyRepetitionCheckboxEncrypt").checked;

				var plainText = messageTextbox;
				var encodedMessage = encode(plainText);
				var decodedMessage = decode(encodedMessage);
				var key = keyTextbox;
				var encodedKey = encode(key);
				var encryptedMessage = otp(plainText, key, "encrypt", keyRepetitionCheckbox);
				var encryptedMessages = decode(encryptedMessage);                             //Convert Number into text using codebook
				var decryptedMessage = otp(encryptedMessage, key, "decrypt", keyRepetitionCheckbox);

				document.getElementById("plaintext").innerHTML = plainText;
				document.getElementById("encoded").innerHTML = encodedMessage;
				document.getElementById("decoded").innerHTML = decodedMessage;
				document.getElementById("key").innerHTML = key;
				document.getElementById("encodedkey").innerHTML = encodedKey;
				document.getElementById("encrypted").innerHTML = encryptedMessages;

				document.getElementById("decrypted").innerHTML = decryptedMessage;
			}

			function runDecryptTest() {
				var ciphertextTextbox = document.getElementById("ciphertextTextboxDecrypt").value;
				var keyTextbox = document.getElementById("keyTextboxDecrypt").value;
				var keyRepetitionCheckbox = document.getElementById("keyRepetitionCheckboxDecrypt").checked;

				var encryptedMessage = ciphertextTextbox;
				var key = keyTextbox;
				var encodedKey = encode(key);
				var decryptedMessage = otp(encryptedMessage, key, "decrypt", keyRepetitionCheckbox);
				var plainText = decryptedMessage;
				var encodedMessage = encode(plainText);
				var decodedMessage = decode(decryptedMessage);

				document.getElementById("plaintext").innerHTML = plainText;
				document.getElementById("encoded").innerHTML = encodedMessage;
				document.getElementById("decoded").innerHTML = decodedMessage;
				document.getElementById("key").innerHTML = key;
				document.getElementById("encodedkey").innerHTML = encodedKey;
				// document.getElementById("encrypted").innerHTML = encryptedMessage;
				document.getElementById("decrypted").innerHTML = decryptedMessage;
			}

		</script>



	</div>

</body>

</html>



<!--  -->